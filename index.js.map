{"version":3,"file":"index.js","sources":["../src/js/settings.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const PIXABAY_API_KEY = \"50513820-fe52286b6fb0f12cd684dc96e\"\n","import axios from \"axios\"\nimport { PIXABAY_API_KEY } from \"./settings\"\naxios.defaults.baseURL = \"https://pixabay.com/api/\"\nexport const getImagesByQuery = async query => {\n\tconst data = await axios\n\t\t.get(\"\", {\n\t\t\tparams: {\n\t\t\t\tkey: PIXABAY_API_KEY,\n\t\t\t\tq: query,\n\t\t\t\timage_type: \"photo\",\n\t\t\t\torientation: \"horizontal\",\n\t\t\t\tsafesearch: true,\n\t\t\t},\n\t\t})\n\t\t.then(data => data)\n\treturn data\n}\n","import SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\nconst gallery = document.querySelector(\".gallery\")\nlet globalLightbox\nexport const showLoader = () =>\n\t(gallery.querySelector(\".loader\").innerHTML =\n\t\t\"Loading images, please wait...\")\nexport const hideLoader = () => {\n\treturn new Promise(res => {\n\t\tsetTimeout(() => res(\"loaded\"), 800)\n\t})\n}\nexport const clearGallery = () =>\n\t(gallery.innerHTML = `<span class=\"loader\"></span>`)\nexport const createMarkup = ({\n\twebformatURL,\n\tlargeImageURL,\n\ttags,\n\tlikes,\n\tviews,\n\tcomments,\n\tdownloads,\n}) => {\n\treturn `\n\t<li class=\"gallery-item\">\n\t\t<a href=\"${largeImageURL}\">\n\t\t\t<img src=\"${webformatURL}\" data-src=\"${largeImageURL}\" alt=\"${tags}\" />\n\t\t</a>\n\t\t<div class=\"info\">\n\t\t\t<p>\n\t\t\t\t<b>Likes</b>\n\t\t\t\t${likes}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>Views</b>\n\t\t\t\t${views}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>Comments</b>\n\t\t\t\t${comments}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>Downloads</b>\n\t\t\t\t${downloads}\n\t\t\t</p>\n\t\t</div>\n\t</li>\n\t`\n}\nexport const createGallery = images => {\n\tlet itemsMarkup = `<span class=\"loader\"></span>`\n\timages.map(item => (itemsMarkup += createMarkup(item)))\n\tdocument.querySelector(\".gallery\").innerHTML = itemsMarkup\n\tif (!globalLightbox) {\n\t\tglobalLightbox = new SimpleLightbox(\".gallery a\", {\n\t\t\tcaptionsData: \"alt\",\n\t\t\tcaptionDelay: 250,\n\t\t})\n\t} else globalLightbox.refresh()\n}\n","import { getImagesByQuery } from \"./js/pixabay-api\"\nimport {\n\tclearGallery,\n\tcreateGallery,\n\tshowLoader,\n\thideLoader,\n} from \"./js/render-functions\"\nimport iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\nconst form = document.querySelector(\".form\")\nform.addEventListener(\"submit\", e => {\n\te.preventDefault()\n\tconst query = e.target.elements[\"search-text\"].value.trim() ?? \"\"\n\tif (query === \"\") {\n\t\tiziToast.error({\n\t\t\ttitle: \"Error!\",\n\t\t\tmessage: \"Failed to load images\",\n\t\t})\n\t\treturn\n\t}\n\tclearGallery()\n\tshowLoader()\n\tgetImagesByQuery(query)\n\t\t.then(data => {\n\t\t\tif (data.data.hits.length > 0) {\n\t\t\t\thideLoader().then(() => {\n\t\t\t\t\tcreateGallery(data.data.hits)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tclearGallery()\n\t\t\t\tiziToast.error({\n\t\t\t\t\ttitle: \"Error!\",\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t\"Sorry, there are no images matching your search query. Please try again!\",\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tiziToast.error({\n\t\t\t\ttitle: \"Error!\",\n\t\t\t\tmessage: \"Failed to load images\",\n\t\t\t})\n\t\t\tconsole.log(\"ðŸš€ ~ error:\", error)\n\t\t})\n\t\t.finally(hideLoader)\n})\n"],"names":["PIXABAY_API_KEY","axios","getImagesByQuery","query","data","gallery","globalLightbox","showLoader","hideLoader","res","clearGallery","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","images","itemsMarkup","item","SimpleLightbox","form","e","iziToast","error"],"mappings":"owBAAO,MAAMA,EAAkB,qCCE/BC,EAAM,SAAS,QAAU,2BAClB,MAAMC,EAAmB,MAAMC,GACxB,MAAMF,EACjB,IAAI,GAAI,CACR,OAAQ,CACP,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,CACJ,CAAG,EACA,KAAKC,GAAQA,CAAI,ECZdC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EACG,MAAMC,EAAa,IACxBF,EAAQ,cAAc,SAAS,EAAE,UACjC,iCACWG,EAAa,IAClB,IAAI,QAAQC,GAAO,CACzB,WAAW,IAAMA,EAAI,QAAQ,EAAG,GAAG,CACrC,CAAE,EAEWC,EAAe,IAC1BL,EAAQ,UAAY,+BACTM,EAAe,CAAC,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACQ;AAAA;AAAA,aAEKL,CAAa;AAAA,eACXD,CAAY,eAAeC,CAAa,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,MAK/DC,CAAK;AAAA;AAAA;AAAA;AAAA,MAILC,CAAK;AAAA;AAAA;AAAA;AAAA,MAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,MAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAMFC,EAAgBC,GAAU,CACtC,IAAIC,EAAc,+BAClBD,EAAO,IAAIE,GAASD,GAAeV,EAAaW,CAAI,CAAE,EACtD,SAAS,cAAc,UAAU,EAAE,UAAYD,EAC1Cf,EAKEA,EAAe,QAAS,EAJ9BA,EAAiB,IAAIiB,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GACjB,CAAG,CAEH,EClDMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,GAAK,CACpCA,EAAE,eAAgB,EAClB,MAAMtB,EAAQsB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,GAAM,GAC/D,GAAItB,IAAU,GAAI,CACjBuB,EAAS,MAAM,CACd,MAAO,SACP,QAAS,uBACZ,CAAG,EACD,MACA,CACDhB,EAAc,EACdH,EAAY,EACZL,EAAiBC,CAAK,EACpB,KAAKC,GAAQ,CACb,GAAIA,EAAK,KAAK,KAAK,OAAS,EAC3BI,EAAU,EAAG,KAAK,IAAM,CACvBW,EAAcf,EAAK,KAAK,IAAI,CACjC,CAAK,MACK,CACNM,EAAc,EACdgB,EAAS,MAAM,CACd,MAAO,SACP,QACC,0EACN,CAAK,EACD,MACA,CACJ,CAAG,EACA,MAAMC,GAAS,CACfD,EAAS,MAAM,CACd,MAAO,SACP,QAAS,uBACb,CAAI,EACD,QAAQ,IAAI,cAAeC,CAAK,CACnC,CAAG,EACA,QAAQnB,CAAU,CACrB,CAAC"}